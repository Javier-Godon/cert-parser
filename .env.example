# ═══════════════════════════════════════════════════════════════
# cert-parser — Environment Configuration
# ═══════════════════════════════════════════════════════════════
# Copy this file to .env and fill in the actual values.
# NEVER commit .env — it contains secrets.
# In Kubernetes, these are overridden by ConfigMap/Secret.

# ── Step 1: OpenID Connect Authentication ──────────────────────────────────
AUTH__URL=http://localhost:8087/protocol/openid-connect/token
AUTH__CLIENT_ID=cert-parser-client
AUTH__CLIENT_SECRET=super-secret-123
AUTH__USERNAME=operator@border.gov
AUTH__PASSWORD=operator-pass

# ── Step 2: SFC Login ──────────────────────────────────────────────────────
LOGIN__URL=http://localhost:8087/auth/v1/login
LOGIN__BORDER_POST_ID=1
LOGIN__BOX_ID=XX/99/X
LOGIN__PASSENGER_CONTROL_TYPE=1

# ── Step 3: Certificate Download ───────────────────────────────────────────
DOWNLOAD__URL=http://localhost:8087/certificates/csca

# ── Database (option A: full DSN) ─────────────────────────────────────────
# DATABASE__DSN=postgresql://user:password@localhost:5432/cert_parser

# ── Database (option B: individual fields) ────────────────────────────────
DATABASE__HOST=192.168.49.2
DATABASE__PORT=31543
DATABASE__NAME=postgres
DATABASE__USERNAME=postgres
DATABASE__PASSWORD=postgres

# ── Scheduler ─────────────────────────────────────────────────────────────
# ── Scheduler ─────────────────────────────────────────────────────────────
# Standard 5-field cron expression: minute hour dom month dow
# "0 */6 * * *"  = every 6 hours (default)
# "0 2   * * *"  = daily at 02:00
# "0 2   * * 1"  = every Monday at 02:00
# "*/30  * * * *" = every 30 minutes
SCHEDULER__CRON=0 */6 * * *

# ── Application ───────────────────────────────────────────────────────────
HTTP_TIMEOUT_SECONDS=60
RUN_ON_STARTUP=true
LOG_LEVEL=INFO
